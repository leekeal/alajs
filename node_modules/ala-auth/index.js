var orm = require('orm');
var alaAuth = function(){
	var mongoose;

	this.config = function(configs){
		/*configs是一个object*/
	}
	
	this.db = function(dbConnect){
		
		return this.reqHandler;
	}

	this.reqHandler = function(req,res,next){
		next();
	}

	this.check = function(rule,uid){

	}

	this.add = function(name,rule){

	}
	this.del = function(id){

	}

	this.addUserToGroup = function(uid,gid){

	}
	this.addGroup = function(name){

	}

	this.addRuleToGroup = function(rig,gid){

	}

	function define(){

		var Rule = db.define('auth_rule', {
			name    : { type: "text" },
			rule : { type: "text" },
			id     : { type: "number"}
		});

		var Group = db.define('auth_group', {
			name    : { type: "text" },
			rules 	: { type: "text" },
			id     	: { type: "number"}
		});

		var User = db.define('auth_user', {
			name    : { type: "text" },
			rules 	: { type: "text" },
			id     	: { type: "number"}
		});
		
	}

}



module.exports = new alaAuth();